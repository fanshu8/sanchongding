# EURUSD混合优化策略 Level 1 (保守)
# EURUSD Hybrid Optimized Strategy - Level 1 (Conservative)
#
# 注意 Note: EURUSD在1分钟K线上表现不如XAUUSD
# 建议使用5分钟K线或Level 2/3以获得更多交易
# EURUSD performs less well on 1m than XAUUSD
# Consider using 5m timeframe or Level 2/3 for more trades

trading:
  symbols:
    - EURUSD
  timeframe: "1m"  # 时间框架 Timeframe
  leverage: 500

  position_sizes:
    EURUSD: 0.9    # 每单手数 lots per order

backtesting:
  initial_capital: 10000   # 初始资金 Initial Capital
  commission: 0.0001       # 佣金 Commission per lot
  slippage: 0.00005        # 滑点 Slippage per lot

strategy:
  # 激进度：1=保守, 2=适中, 3=激进
  # Aggressiveness: 1=Conservative, 2=Moderate, 3=Aggressive
  aggressiveness: 1

  # 追踪止损设置 Trailing Stop Settings
  trailing_activation: 0.8   # 盈利达到0.8R时激活 Activate at 0.8R profit
  trailing_distance: 1.0     # 按1倍ATR追踪 Trail by 1 ATR

  # 动态加仓设置 Progressive Lot Sizing
  progressive_lots:
    enabled: false           # 是否启用 Enable/disable (建议实盘测试前先禁用 Disable for initial live testing)
    profit_threshold: 0.20   # 月度盈利阈值 20% Monthly profit threshold
    lot_increase: 0.05       # 每次增加手数 Increase 0.05 lots
    frequency_days: 7        # 增加频率(天) Increase frequency (7 days = weekly)

  # 止损止盈设置 Stop Loss & Take Profit
  atr_multiple: 1.5          # 止损倍数 Stop loss multiplier
  tp_ratios: [1.5, 2.5, 4.0] # 止盈比例 Take profit ratios

  # 指标参数 (优化后) Indicator Parameters (Optimized)
  zigzag:
    depth_1m: 25
    depth_5m: 12

  keltner:
    ma_period: 15
    atr_period: 10
    atr_multiple: 0.5
    ma_method: 1    # 1=EMA
    ma_price: 4     # 4=Close

  bollinger:
    length: 15
    deviation: 1.0

  rsi:
    period: 14

  macd:
    fast_period: 12
    slow_period: 26
    signal_period: 9

  supertrend:
    period: 10
    multiplier: 3.0

  cci:
    period: 20

risk:
  max_daily_loss: 1000      # 单日最大亏损 Max daily loss: $1000 (10% of capital)
  max_drawdown: 0.25        # 最大回撤 Max drawdown: 25% from peak
  max_positions: 1          # 最大持仓数 Max positions

data:
  source: "yfinance"       # 数据源 Data source (use "mt5" for longer backtests)

logging:
  level: "INFO"
  file: "logs/trading_eurusd_level1.log"

# MT4/MT5实盘交易配置 Live Trading Configuration
mt4:
  enabled: false           # 是否启用实盘交易 Enable live trading (谨慎启用!)
  account: 0               # MT4/MT5账号 Account number
  password: ""             # MT4/MT5密码 Password
  server: ""               # 经纪商服务器 Broker server (e.g., "MetaQuotes-Demo")
  magic_number: 12345      # 策略魔术号 Unique magic number

# 入场条件 Entry Logic (Level 1 - Conservative):
# 做多 LONG:
#   - 价格 > 肯特纳上轨 AND > 布林带上轨
#   - MACD金叉
#   - CCI > 50 (强趋势)
#   - 5分钟MACD > 信号线 (趋势确认)
#   - 5分钟CCI > 0 (多头排列)
#
# 做空 SHORT:
#   - 价格 < 肯特纳下轨 AND < 布林带下轨
#   - MACD死叉
#   - CCI < -50 (强趋势)
#   - 5分钟MACD < 信号线 (趋势确认)
#   - 5分钟CCI < 0 (空头排列)
#
# 出场条件 Exit Logic:
# 1. 新闻日历 (重要新闻前1分钟平仓)
# 2. 追踪止损 (激活后触发)
# 3. 固定止损 (1.5倍ATR)
# 4. 止盈位 (1.5R, 2.5R, 4.0R)
